<div id="formulaireSalarie">
    <form class="formulaire" autocomplete="off" [formGroup]="monFormulaire"
        [style.display]="((individu.statut == 'salarie') || (individu.statut == 'autre')) ? 'block' : 'none'">

        <div class="container">
            <div class="row">
                <div class="col">
                    <div class="d-grid">
                        <button type="button" class="btn btn-info" (click)="ouvrirModalJours()">
                            Définir les jours
                        </button>
                    </div>
                </div>
                <div class="col">
                    <div class="row">
                        <p class="h5 mb-3" style="color:#1D458C;">Total d'heures travaillées : <span style="font-weight: bold"> {{totSemaine }} Heures </span></p>
                    </div>
                    <div class="row">
                        
                    </div>
                </div>
            </div>

            <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                <tr>
                  <th scope="col">Jour</th>
                  <th scope="col">Début</th>
                  <th scope="col">Fin</th>
                  <th scope="col">Pause</th>
                  <th scope="col">Total</th>
                </tr>
                </thead>
                <tbody>
                <tr [style.display]="individu.lundi.active ? '' : 'none'">
                    <th scope="row">Lundi</th>
                    <td><input class="form-control" formControlName="deb_lun" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="fin_lun" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="paus_lun" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><span>{{individu.lundi.total}}</span></td>
                </tr>
                <tr [style.display]="individu.mardi.active ? '' : 'none'">
                    <th scope="row">Mardi</th>
                    <td><input class="form-control" formControlName="deb_mar" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="fin_mar" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="paus_mar" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><span>{{individu.mardi.total}}</span></td>
                </tr>
                <tr [style.display]="individu.mercredi.active ? '' : 'none'">
                    <th scope="row">Mercredi</th>
                    <td><input class="form-control" formControlName="deb_mer" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="fin_mer" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="paus_mer" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><span>{{individu.mercredi.total}}</span></td>
                </tr>
                <tr [style.display]="individu.jeudi.active ? '' : 'none'">
                    <th scope="row">Jeudi</th>
                    <td><input class="form-control" formControlName="deb_jeu" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="fin_jeu" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="paus_jeu" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><span>{{individu.jeudi.total}}</span></td>
                </tr>
                <tr [style.display]="individu.vendredi.active ? '' : 'none'">
                    <th scope="row">Vendredi</th>
                    <td><input class="form-control" formControlName="deb_ven" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="fin_ven" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="paus_ven" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><span>{{individu.vendredi.total}}</span></td>
                </tr>
                <tr [style.display]="individu.samedi.active ? '' : 'none'">
                    <th scope="row">Samedi</th>
                    <td><input class="form-control" formControlName="deb_sam" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="fin_sam" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="paus_sam" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><span>{{individu.samedi.total}}</span></td>
                </tr>
                <tr [style.display]="individu.dimanche.active ? '' : 'none'">
                    <th scope="row">Dimanche</th>
                    <td><input class="form-control" formControlName="deb_dim" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="fin_dim" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="paus_dim" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><span>{{individu.dimanche.total}}</span></td>
                </tr>
                <tr [style.display]="individu.lundiSup.active ? '' : 'none'">
                    <th scope="row">Lun HS</th>
                    <td><input class="form-control" formControlName="debSup_lun" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="finSup_lun" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="pausSup_lun" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><span>{{individu.lundiSup.total}}</span></td>
                </tr>
                <tr [style.display]="individu.mardiSup.active ? '' : 'none'">
                    <th scope="row">Mar HS</th>
                    <td><input class="form-control" formControlName="debSup_mar" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="finSup_mar" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="pausSup_mar" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><span>{{individu.mardiSup.total}}</span></td>
                </tr>
                <tr [style.display]="individu.mercrediSup.active ? '' : 'none'">
                    <th scope="row">Mer HS</th>
                    <td><input class="form-control" formControlName="debSup_mer" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="finSup_mer" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="pausSup_mer" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><span>{{individu.mercrediSup.total}}</span></td>
                </tr>
                <tr [style.display]="individu.jeudiSup.active ? '' : 'none'">
                    <th scope="row">Jeu HS</th>
                    <td><input class="form-control" formControlName="debSup_jeu" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="finSup_jeu" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="pausSup_jeu" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><span>{{individu.jeudiSup.total}}</span></td>
                </tr>
                <tr [style.display]="individu.vendrediSup.active ? '' : 'none'">
                    <th scope="row">Ven HS</th>
                    <td><input class="form-control" formControlName="debSup_ven" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="finSup_ven" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="pausSup_ven" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><span>{{individu.vendrediSup.total}}</span></td>
                </tr>
                <tr [style.display]="individu.samediSup.active ? '' : 'none'">
                    <th scope="row">Sam HS</th>
                    <td><input class="form-control" formControlName="debSup_sam" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="finSup_sam" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="pausSup_sam" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><span>{{individu.samediSup.total}}</span></td>
                </tr>
                <tr [style.display]="individu.dimancheSup.active ? '' : 'none'">
                    <th scope="row">Dim HS</th>
                    <td><input class="form-control" formControlName="debSup_dim" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="finSup_dim" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><input class="form-control" formControlName="pausSup_dim" type="time" id="startTime" pattern="[0-9]{2}:[0-9]{2}" (change)="changeVal()"></td>
                    <td><span>{{individu.dimancheSup.total}}</span></td>
                </tr>
                </tbody>
            </table>
            </div>

        </div>
    </form>
</div>

<div id="formulaireTiMe">


    <form class="row g-1" autocomplete="off" [formGroup]="monFormulaire"
        [style.display]="(individu.statut == 'me' || individu.statut == 'ti') ? 'block' : 'none'">
        <div class="container">

            <div class="row g-1">
                <p class="h5 mb-3" style="color:#1D458C;">Sous-traitance</p>
            </div>

            <!-- Input Radio -Remuneration ME -->

            <div class="row">

                <div class="col-md-6">
                    <label class="fs-6 col-form-label">Êtes vous sous-traitant sur ce site ?</label>
                </div>

                <div class="col-md-3">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" value="Oui" formControlName="soustraitant"
                            id="flexCheckOui" (change)="changeVal()">
                        <label class="form-check-label" for="flexCheckOui">
                            Oui
                        </label>
                    </div>
                </div>

                <div class="col-md-3">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" value="Non" formControlName="soustraitant"
                            id="flexCheckNon" (change)="changeVal()">
                        <label class="form-check-label" for="flexCheckNon">
                            Non
                        </label>
                    </div>
                </div>
            </div>

            <!-- Champ identité des salariés -->

            <div class="row">
                <div class="col-12">
                    <div class="form-floating">
                    <textarea placeholder="Insérer votre donneur d'ordres" class="form-control mb-4"
                    style="height: 100px" formControlName="identite_do" (change)="changeVal()" id="ff_identite_do"></textarea>
                        <label for="ff_identite_do">Insérer votre donneur d'ordres</label>
                    </div>
                        
                </div>
            </div>

            <!-- Input Radio sous-traitance partie activité -->

            <div class="row">

                <div class="col-md-6">
                    <label class="fs-6 col-form-label">Sous-traitez vous une partie de votre activité sur ce site ?</label>
                </div>

                <div class="col-md-3">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" value="Oui" formControlName="s_partie_activite"
                            id="flexCheckOui" (change)="changeVal()">
                        <label class="form-check-label" for="flexCheckOui">
                            Oui
                        </label>
                    </div>
                </div>

                <div class="col-md-3">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" value="Non" formControlName="s_partie_activite"
                            id="flexCheckNon" (change)="changeVal()">
                        <label class="form-check-label" for="flexCheckNon">
                            Non
                        </label>
                    </div>
                </div>
            </div>

            <!-- Champ identité des salariés -->

            <div class="row">
                <div class="col-12">
                    <div class="form-floating">
                    <textarea placeholder="Insérer vos sous-traitants"
                        class="form-control mb-4" style="height: 100px" formControlName="id_soustraitants" (change)="changeVal()" id="ff_id_soustraitants"></textarea>
                    <label for="ff_id_soustraitants">Insérer vos sous-traitants</label>
                    </div>
                </div>
            </div>

        </div>

    </form>

</div>

<!-- <br> -->

<div class="row">
    <div class="col">
        <div class="d-grid">
            <button type="button" class="btn btn-warning" [routerLink]="['/entreprise/recapIndividu', individu.id]">
                Sommaire des informations
            </button>
        </div>
    </div>
    <div class="col">
        <div class="d-grid">
            <button type="button" class="btn btn-primary btn-block" (click)="ouvrirModal()" 
            [disabled]="this.individu.nom && this.individu.prenom && this.individu.dt_naissance != '' ? '' : 'disabled'">
                Signer pour finaliser le contrôle
            </button>
        </div>
    </div>
</div>
<!-- <span style="font-weight: bold;">Total</span>
<pre>{{total_heures}}</pre>
<span style="font-weight: bold;">Service Data</span>
<pre>{{individu | json}}</pre>
<span style="font-weight: bold;">Formulaire</span>
<pre>{{monFormulaire.value | json}}</pre> -->

<!-- <span>v test : </span>
{{test}}
<div class="row">
    <div class="col">
        <span>Value</span>
        <pre>{{ monFormulaire.value | json }}</pre>

    </div>
    <div class="col">
        <span>Service Data</span>
        <pre>{{ dataIndividu | json}}</pre>
    </div>
</div> -->